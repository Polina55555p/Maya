{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { createStore } from 'vuex';\nconst store = createStore({\n  state() {\n    return {\n      products: [],\n      cart: []\n    };\n  },\n  mutations: {\n    SET_PRODUCTS_TO_STATE: (state, products) => {\n      state.products = products;\n    },\n    SET_CARD: (state, product) => {\n      if (state.cart.length) {\n        let isProductExist = false;\n        state.cart.map(function (item) {\n          if (item.article === product.article && item.sizeSelect === product.sizeSelect && item.colorSelect === product.colorSelect) {\n            item.quantity++;\n            isProductExist = true;\n          }\n        });\n        if (!isProductExist) {\n          state.cart.push(product);\n        }\n      } else {\n        state.cart.push(product);\n      }\n    },\n    REMOVE_PRODUCT: (state, index) => {\n      state.cart.splice(index, 1);\n    },\n    INCREMENT: (state, index) => {\n      if (state.cart.length > 1) {\n        state.cart[index].quantity++;\n      }\n    },\n    DECREMENT: (state, index) => {\n      state.cart[index].quantity--;\n    }\n  },\n  actions: {\n    async GET_PRODUCTS_FROM_API({\n      commit\n    }) {\n      const products = await axios(' http://localhost:3000/products', {\n        method: 'GET'\n      });\n      commit('SET_PRODUCTS_TO_STATE', products.data);\n      return products;\n    },\n    ADD_TO_CART({\n      commit\n    }, product) {\n      commit('SET_CARD', product);\n    },\n    INCREMENT_QUALITY({\n      commit\n    }) {\n      commit('INCREMENT');\n    },\n    DECCREMENT_QUALITY({\n      commit\n    }) {\n      commit('DECCREMENT');\n    },\n    DELETE_FROM_CART({\n      commit\n    }, index) {\n      commit('REMOVE_PRODUCT', index);\n    }\n  },\n  getters: {\n    PRODUCTS(state) {\n      return state.products;\n    },\n    CART(state) {\n      return state.cart;\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["axios","createStore","store","state","products","cart","mutations","SET_PRODUCTS_TO_STATE","SET_CARD","product","length","isProductExist","map","item","article","sizeSelect","colorSelect","quantity","push","REMOVE_PRODUCT","index","splice","INCREMENT","DECREMENT","actions","GET_PRODUCTS_FROM_API","commit","method","data","ADD_TO_CART","INCREMENT_QUALITY","DECCREMENT_QUALITY","DELETE_FROM_CART","getters","PRODUCTS","CART"],"sources":["C:/Users/polin/Desktop/layout/Maya-project/maya/src/vuex/store.js"],"sourcesContent":["import axios from 'axios'\r\nimport { createStore } from 'vuex'\r\n\r\nconst store = createStore({\r\n    state () {\r\n      return {\r\n        products: [],\r\n        cart: [],\r\n      }\r\n    },\r\n    mutations: {\r\n      SET_PRODUCTS_TO_STATE: (state, products) => {\r\n        state.products = products\r\n      },\r\n\r\n      SET_CARD: (state, product) => {\r\n        if (state.cart.length) {\r\n          let isProductExist = false;\r\n          state.cart.map(function(item) {\r\n            if (item.article === product.article && item.sizeSelect === product.sizeSelect && item.colorSelect === product.colorSelect) {\r\n              item.quantity++;\r\n              isProductExist = true;\r\n              } \r\n            })\r\n            if(!isProductExist) {\r\n              state.cart.push(product);\r\n              \r\n              \r\n            }\r\n        }  \r\n        else {\r\n          state.cart.push(product);\r\n    \r\n        } \r\n      },\r\n      REMOVE_PRODUCT: (state, index) => {\r\n        state.cart.splice(index, 1)\r\n      },\r\n      INCREMENT: (state, index) => {\r\n        if (state.cart.length > 1) {\r\n          state.cart[index].quantity++\r\n        }\r\n        \r\n      },\r\n      DECREMENT: (state, index) => {\r\n        state.cart[index].quantity--\r\n      },\r\n\r\n    },\r\n    actions: {\r\n      async GET_PRODUCTS_FROM_API({commit}) {\r\n        const products = await axios(' http://localhost:3000/products', {\r\n          method: 'GET'\r\n        })\r\n        commit('SET_PRODUCTS_TO_STATE', products.data);\r\n        return products;\r\n      },\r\n      ADD_TO_CART ({commit}, product) {\r\n        commit('SET_CARD', product);\r\n      },\r\n\r\n      INCREMENT_QUALITY ({commit}) {\r\n        commit('INCREMENT')\r\n      },\r\n      DECCREMENT_QUALITY ({commit}) {\r\n        commit('DECCREMENT')\r\n      },\r\n      DELETE_FROM_CART ({commit}, index) {\r\n        commit('REMOVE_PRODUCT', index)\r\n      }\r\n\r\n    },\r\n    getters: {\r\n      PRODUCTS(state) {\r\n        return state.products\r\n      },\r\n      CART(state){\r\n        return state.cart\r\n      }\r\n    }\r\n})\r\n\r\nexport default store"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,MAAM;AAElC,MAAMC,KAAK,GAAGD,WAAW,CAAC;EACtBE,KAAK,GAAI;IACP,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACDC,SAAS,EAAE;IACTC,qBAAqB,EAAE,CAACJ,KAAK,EAAEC,QAAQ,KAAK;MAC1CD,KAAK,CAACC,QAAQ,GAAGA,QAAQ;IAC3B,CAAC;IAEDI,QAAQ,EAAE,CAACL,KAAK,EAAEM,OAAO,KAAK;MAC5B,IAAIN,KAAK,CAACE,IAAI,CAACK,MAAM,EAAE;QACrB,IAAIC,cAAc,GAAG,KAAK;QAC1BR,KAAK,CAACE,IAAI,CAACO,GAAG,CAAC,UAASC,IAAI,EAAE;UAC5B,IAAIA,IAAI,CAACC,OAAO,KAAKL,OAAO,CAACK,OAAO,IAAID,IAAI,CAACE,UAAU,KAAKN,OAAO,CAACM,UAAU,IAAIF,IAAI,CAACG,WAAW,KAAKP,OAAO,CAACO,WAAW,EAAE;YAC1HH,IAAI,CAACI,QAAQ,EAAE;YACfN,cAAc,GAAG,IAAI;UACrB;QACF,CAAC,CAAC;QACF,IAAG,CAACA,cAAc,EAAE;UAClBR,KAAK,CAACE,IAAI,CAACa,IAAI,CAACT,OAAO,CAAC;QAG1B;MACJ,CAAC,MACI;QACHN,KAAK,CAACE,IAAI,CAACa,IAAI,CAACT,OAAO,CAAC;MAE1B;IACF,CAAC;IACDU,cAAc,EAAE,CAAChB,KAAK,EAAEiB,KAAK,KAAK;MAChCjB,KAAK,CAACE,IAAI,CAACgB,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;IAC7B,CAAC;IACDE,SAAS,EAAE,CAACnB,KAAK,EAAEiB,KAAK,KAAK;MAC3B,IAAIjB,KAAK,CAACE,IAAI,CAACK,MAAM,GAAG,CAAC,EAAE;QACzBP,KAAK,CAACE,IAAI,CAACe,KAAK,CAAC,CAACH,QAAQ,EAAE;MAC9B;IAEF,CAAC;IACDM,SAAS,EAAE,CAACpB,KAAK,EAAEiB,KAAK,KAAK;MAC3BjB,KAAK,CAACE,IAAI,CAACe,KAAK,CAAC,CAACH,QAAQ,EAAE;IAC9B;EAEF,CAAC;EACDO,OAAO,EAAE;IACP,MAAMC,qBAAqB,CAAC;MAACC;IAAM,CAAC,EAAE;MACpC,MAAMtB,QAAQ,GAAG,MAAMJ,KAAK,CAAC,iCAAiC,EAAE;QAC9D2B,MAAM,EAAE;MACV,CAAC,CAAC;MACFD,MAAM,CAAC,uBAAuB,EAAEtB,QAAQ,CAACwB,IAAI,CAAC;MAC9C,OAAOxB,QAAQ;IACjB,CAAC;IACDyB,WAAW,CAAE;MAACH;IAAM,CAAC,EAAEjB,OAAO,EAAE;MAC9BiB,MAAM,CAAC,UAAU,EAAEjB,OAAO,CAAC;IAC7B,CAAC;IAEDqB,iBAAiB,CAAE;MAACJ;IAAM,CAAC,EAAE;MAC3BA,MAAM,CAAC,WAAW,CAAC;IACrB,CAAC;IACDK,kBAAkB,CAAE;MAACL;IAAM,CAAC,EAAE;MAC5BA,MAAM,CAAC,YAAY,CAAC;IACtB,CAAC;IACDM,gBAAgB,CAAE;MAACN;IAAM,CAAC,EAAEN,KAAK,EAAE;MACjCM,MAAM,CAAC,gBAAgB,EAAEN,KAAK,CAAC;IACjC;EAEF,CAAC;EACDa,OAAO,EAAE;IACPC,QAAQ,CAAC/B,KAAK,EAAE;MACd,OAAOA,KAAK,CAACC,QAAQ;IACvB,CAAC;IACD+B,IAAI,CAAChC,KAAK,EAAC;MACT,OAAOA,KAAK,CAACE,IAAI;IACnB;EACF;AACJ,CAAC,CAAC;AAEF,eAAeH,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}