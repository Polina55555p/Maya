"use strict";(self["webpackChunkmaya"]=self["webpackChunkmaya"]||[]).push([[634],{634:function(e,t,a){a.r(t),a.d(t,{default:function(){return R}});var c=a(3396);const o=e=>((0,c.dD)("data-v-7d4c3210"),e=e(),(0,c.Cn)(),e),n={class:"catalog"},r={class:"container-xxl"},s={class:"row align-items-center"},l=o((()=>(0,c._)("div",{class:"col-3"},[(0,c._)("h2",null,"каталог")],-1))),i={class:"col-3 offset-3"},u={class:"col-3"},p={class:"row"},g={class:"col-3 mt-5"},d={class:"col-9"},h={class:"row row-cols-3"},m={key:1},P=o((()=>(0,c._)("svg",{class:"spinner",viewBox:"0 0 50 50"},[(0,c._)("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none","stroke-width":"5"})],-1))),k=[P];function y(e,t,a,o,P,y){const v=(0,c.up)("my-search"),C=(0,c.up)("my-sort"),_=(0,c.up)("catalog-list");return(0,c.wg)(),(0,c.iD)("section",n,[(0,c._)("div",r,[(0,c._)("div",s,[l,(0,c._)("div",i,[(0,c.Wm)(v,{modelValue:P.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>P.searchQuery=e)},null,8,["modelValue"])]),(0,c._)("div",u,[(0,c.Wm)(C,{modelValue:P.selectedSort,"onUpdate:modelValue":t[1]||(t[1]=e=>P.selectedSort=e),options:P.sortOptions},null,8,["modelValue","options"])])]),(0,c._)("div",p,[(0,c._)("div",g,[(0,c._)("h4",{class:"pb-2 choiseLink",onClick:t[2]||(t[2]=e=>y.choiceTypeTab("Бандажи"))},"Бандажи"),(0,c._)("h4",{class:"pb-2 choiseLink",onClick:t[3]||(t[3]=e=>y.choiceTypeTab("Бюстгалтеры"))},"Бюстгалтеры"),(0,c._)("h4",{class:"choiseLink",onClick:t[4]||(t[4]=e=>y.choiceTypeTab("Трусики"))},"Трусики"),(0,c._)("h4",{class:"choiseLink",onClick:t[5]||(t[5]=e=>y.choiceTypeTab(""))},"Все")]),(0,c._)("div",d,[(0,c._)("div",h,[P.isProductLoading?((0,c.wg)(),(0,c.iD)("div",m,k)):((0,c.wg)(),(0,c.j4)(_,{key:0,productsList:e.PRODUCTS,"choise-link":P.choiceType},null,8,["productsList","choise-link"]))])])])])])}var v=a(9101),C=a(9242);const _={class:"col-12 text-center"};function w(e,t,a,o,n,r){const s=(0,c.up)("catalog-item"),l=(0,c.up)("catalog-pagination");return(0,c.wg)(),(0,c.iD)(c.HY,null,[a.productsList.length>0&&""!==a.choiseLink?((0,c.wg)(!0),(0,c.iD)(c.HY,{key:0},(0,c.Ko)(e.sortByType,(e=>((0,c.wg)(),(0,c.j4)(s,{productData:e,key:e.article},null,8,["productData"])))),128)):a.productsList.length>0&&""===a.choiseLink?((0,c.wg)(!0),(0,c.iD)(c.HY,{key:1},(0,c.Ko)(e.paginatedData,(e=>((0,c.wg)(),(0,c.j4)(s,{productData:e,key:e.article},null,8,["productData"])))),128)):((0,c.wg)(),(0,c.iD)(c.HY,{key:2},[(0,c.Uk)(" Нет товаров удовлетворяющих вашему запросу ")],64)),(0,c.wy)((0,c._)("div",_,[(0,c.Wm)(l,{currentPage:e.currentPage,pageCount:e.pageCount,onSetCurrentpage:o.setCurrentPage},null,8,["currentPage","pageCount","onSetCurrentpage"])],512),[[C.F8,""===a.choiseLink||e.sortByType.length>6]])],64)}var T=a(4870);function L(e,t,a,o,n,r){const s=(0,c.up)("paginate");return(0,c.wg)(),(0,c.j4)(s,{modelValue:o.currentPageNumber,"onUpdate:modelValue":t[0]||(t[0]=e=>o.currentPageNumber=e),"page-count":a.pageCount,"click-handler":o.clickCallback,"margin-pages":3,"prev-text":"❮","next-text":"❯","container-class":"pagination_custom","page-class":"page-item","page-link-class":"page_custom","active-class":"active-page","hide-prev-next":!1},null,8,["modelValue","page-count","click-handler"])}var b=a(4501),D={props:{currentPage:Number,pageCount:Number},components:{paginate:b.Z},setup(e,t){const{currentPage:a,pageCount:o}=(0,T.BK)(e),n=(0,T.iH)(a.value),r=()=>{console.log("Call Back Triggered",`Current Page - ${n.value}`),t.emit("set-currentpage",n.value)};return(0,c.wF)((()=>{console.log(a.value,o.value)})),{clickCallback:r,onCurrentPage:a,onPageCount:o,currentPageNumber:n}}},f=a(89);const S=(0,f.Z)(D,[["render",L]]);var x=S,O={components:{CatalogPagination:x},props:{productsList:{type:Object,default(){return{}}},choiseLink:String,searchQuery:String},data(){return{isProductLoading:Boolean}},setup(e){const t=(0,T.qj)({currentPage:1,rowsPerPage:6,pageCount:(0,c.Fl)((()=>Math.ceil(e.productsList.length/t.rowsPerPage))),sortByType:(0,c.Fl)((()=>e.productsList.filter((t=>t.category==e.choiseLink)))),paginatedData:(0,c.Fl)((()=>e.productsList.slice((t.currentPage-1)*t.rowsPerPage,t.currentPage*t.rowsPerPage,window.scrollTo(0,0))))});function a(e){t.currentPage=e}return{...(0,T.BK)(t),setCurrentPage:a}}};const V=(0,f.Z)(O,[["render",w]]);var B=V,U=a(65),F={components:{CatalogList:B},data(){return{minPrice:0,maxPrice:6e3,selectedSort:"",searchQuery:"",sortOptions:v.f,isProductLoading:!1,choiceType:""}},methods:{...(0,U.nv)(["GET_PRODUCTS_FROM_API"]),choiceTypeTab(e){this.choiceType=e}},mounted(){this.GET_PRODUCTS_FROM_API()},computed:{...(0,U.Se)(["PRODUCTS"])}};const j=(0,f.Z)(F,[["render",y],["__scopeId","data-v-7d4c3210"]]);var R=j}}]);
//# sourceMappingURL=634.d6635896.js.map